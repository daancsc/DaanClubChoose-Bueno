webpackJsonp([1],[,,,function(t,e,o){"use strict";var a=o(13),s=o.n(a),i={baseURL:"https://choose.dacsc.club",timeout:1e4},n=s.a.create(i);e.a={login:function(t,e){return n.post("/",{account:t,password:e})},getStatus:function(t){return n.get("/status",{headers:{Authorization:t}})},getClubs:function(t){return n.get("/clubs",{headers:{Authorization:t}})},setChoose:function(t,e){return n.post("/choose",e,{headers:{Authorization:t}})}}},,,,,,,function(t,e,o){"use strict";var a=o(4),s=o(50),i=o(44),n=o.n(i),c=o(43),l=o.n(c),r=o(45),d=o.n(r);a.a.use(s.a),e.a=new s.a({routes:[{path:"/",name:"Hello",component:n.a},{path:"/choose",name:"choose",component:l.a,beforeEnter:function(t,e,o){null!==window.localStorage.getItem("token")?o():o("/")}},{path:"/result",name:"result",component:d.a,beforeEnter:function(t,e,o){null!==window.localStorage.getItem("token")?o():o("/")}}]})},function(t,e,o){function a(t){o(37)}var s=o(1)(o(32),o(47),a,null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),s=o(12),i=o.n(s),n=o(11),c=o.n(n),l=o(10);a.a.use(i.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:l.a,template:"<App/>",components:{App:c.a}})},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{title:"大安高工綜合活動選課系統",name:""}},methods:{display:function(t){this.name=t},logout:function(){window.localStorage.removeItem("token"),this.$router.replace("/"),this.name=""}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(3);e.default={data:function(){return{add:null,list:[],choose:[],selectId:0,opti1:0,optiBody1:[],opti2:0,optiBody2:[],network:!1,sort:!0}},computed:{noChoose:function(){var t=this;return this.list.filter(function(e){for(var o=!0,a=0;a<t.choose.length;a++)if(t.choose[a].id===e.id){o=!1;break}return o})},check:function(){var t=!1;return this.choose.length<10&&(t=!0),0!==this.opti1&&0===this.optiBody1.length&&(t=!0),0!==this.opti2&&0===this.optiBody2.length&&(t=!0),t||!this.limit},limit:function(){for(var t=!1,e=0;e<this.choose.length;e++)if(1===this.choose[e].id){t=!0;break}return this.sort||(t=!0),t},optitem:function(){if(0!==this.choose.length){var t=this.choose.slice();return t.splice(0,0,{id:0,name:""}),t}return[]}},methods:{addClass:function(){null!==this.add&&-1===this.choose.indexOf(this.add)&&this.choose.push(this.add)},select:function(t){this.selectId=t},up:function(){for(var t=0,e=0;e<this.choose.length;e++)if(this.choose[e].id===this.selectId){t=e;break}if(t>0){var o=this.choose[t-1];this.$set(this.choose,t-1,this.choose[t]),this.$set(this.choose,t,o)}},down:function(){for(var t=0,e=0;e<this.choose.length;e++)if(this.choose[e].id===this.selectId){t=e;break}if(t<this.choose.length-1){var o=this.choose[t+1];this.$set(this.choose,t+1,this.choose[t]),this.$set(this.choose,t,o)}},del:function(){for(var t=-1,e=0;e<this.choose.length;e++)if(this.choose[e].id===this.selectId){t=e;break}-1!==t&&this.choose.splice(t,1)},submit:function(){for(var t=this,e=0;e<t.choose.length;e++)delete t.choose[e].more;for(e=0;e<t.choose.length;e++)t.opti1===t.choose[e].id&&(t.choose[e].more=t.optiBody1),t.opti2===t.choose[e].id&&(t.choose[e].more=t.optiBody2);t.network=!0,a.a.setChoose(window.localStorage.getItem("token"),t.choose).then(function(e){t.network=!1,alert("儲存成功"),t.$router.replace("result")})}},beforeMount:function(){var t=this;t.network=!0,a.a.getClubs(window.localStorage.getItem("token")).then(function(e){t.list=e.data,t.network=!1}).catch(function(e){console.log(e),alert("發生錯誤"),t.$router.replace("/")}),a.a.getStatus(window.localStorage.getItem("token")).then(function(e){t.$emit("login",e.data.name),t.choose=e.data.choose,t.sort=-1===e.data.class.search("綜高");for(var o=1,a=0;a<t.choose.length;a++)void 0!==t.choose[a].more&&(t["opti"+o]=t.choose[a].id,t["optiBody"+o]=t.choose[a].more,o++);t.network=!1}).catch(function(e){console.log(e),alert("發生錯誤"),t.$router.replace("/")})}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(3);e.default={name:"hello",data:function(){return{disabled:!1,dialog:!1,finishNet:!1,account:"",password:"",error:""}},methods:{login:function(){var t=this;this.dialog=!0,a.a.login(this.account,this.password).then(function(e){e.data.status&&(t.finishNet=!0,window.localStorage.setItem("token",e.data.token)),a.a.getStatus(window.localStorage.getItem("token")).then(function(e){t.$emit("login",e.data.name),e.data.choose.length>0&&t.$router.replace("result")}).catch(function(e){this.dialog=!1,console.log(e),alert("發生錯誤"),t.$router.replace("/")})}).catch(function(e){console.log(e),t.dialog=!1,t.error="帳號密碼輸入錯誤"})},closeDig:function(){this.dialog=!1,this.$router.replace("choose")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(3);e.default={data:function(){return{name:"",choose:[]}},beforeMount:function(){var t=this;a.a.getStatus(window.localStorage.getItem("token")).then(function(e){t.$emit("login",e.data.name),t.name=e.data.name,t.choose=e.data.choose})},methods:{modify:function(){this.$router.replace("choose")}}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,function(t,e,o){function a(t){o(40)}var s=o(1)(o(33),o(49),a,"data-v-bf8712a2",null);t.exports=s.exports},function(t,e,o){function a(t){o(39),o(38)}var s=o(1)(o(34),o(48),a,"data-v-87b09e2c",null);t.exports=s.exports},function(t,e,o){function a(t){o(36)}var s=o(1)(o(35),o(46),a,"data-v-058855b5",null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"result"}},[o("v-layout",[o("v-flex",{attrs:{sm6:"","offset-xs3":"",xs12:""}},[o("v-card",[o("v-card-text",{staticClass:"pt-0"},[o("v-divider",{staticClass:"mb-4"}),t._v(" "),o("h4",{staticStyle:{"text-align":"center"}},[t._v("你好 "+t._s(t.name)+" ，以下是你選的的志願。"),o("br"),t._v("你已完成志願填寫，如需修改請按修改按鈕！")]),t._v(" "),o("v-layout",{staticClass:"ma-0"},[o("ul",t._l(t.choose,function(e,a){return o("li",{key:e.id},[t._v(t._s("第 "+(a+1)+" 志願："+e.name))])}))]),t._v(" "),o("v-btn",{staticClass:"red",attrs:{primary:"",block:""},nativeOn:{click:function(e){t.modify(e)}}},[t._v("修改")])],1)],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{attrs:{light:""}},[o("v-toolbar",{staticClass:"orange",attrs:{dark:""}},[o("v-icon",{staticClass:"white--text"},[t._v("cloud")]),t._v(" "),o("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),o("v-spacer"),t._v(" "),""!==t.name?o("v-toolbar-items",[o("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.logout(e)}}},[t._v("你好 "+t._s(t.name)+"! 登出")])],1):t._e()],1),t._v(" "),o("main",[o("v-container",{attrs:{fluid:""}},[o("transition",{attrs:{name:"slide",mode:"out-in"}},[o("router-view",{on:{login:t.display}})],1)],1)],1),t._v(" "),o("v-footer",[o("div",{staticStyle:{width:"100%","text-align":"right"}},[t._v("© 2017 "),o("a",{attrs:{href:"https://dacsc.club",target:"_blank"}},[t._v("大安高工電腦研究社")]),t._v(" 16th 網管 IU")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{sm8:"",xs12:""}},[o("v-card",[o("v-card-title",[o("h2",{staticClass:"mb-0"},[t._v("大安高工106學年度高一綜合活動 選課說明")])]),t._v(" "),o("v-card-text",{staticClass:"pt-0"},[o("iframe",{staticStyle:{width:"100%",height:"75vh"},attrs:{id:"viewer",src:"https://docs.google.com/viewer?hl=en&embedded=true&url=https://clubs.taivs.tp.edu.tw/choose/static/help.pdf",scrolling:"auto",allowfullscreen:"",webkitallowfullscreen:"",frameborder:"0"}})])],1)],1),t._v(" "),o("v-flex",{attrs:{sm4:"",xs12:""}},[o("v-card",[o("v-card-title",[o("h2",{staticClass:"ma-0"},[t._v("學生登入")])]),t._v(" "),t.disabled?o("v-alert",{staticClass:"ma-2",attrs:{info:"",value:"true"}},[t._v("系統未開放")]):t._e(),t._v(" "),""!==t.error?o("v-alert",{staticClass:"ma-2",attrs:{error:"",value:"true"}},[t._v(t._s(t.error))]):t._e(),t._v(" "),o("v-card-text",{staticClass:"pt-0"},[o("v-divider",{staticClass:"mb-2"}),t._v(" "),o("v-text-field",{attrs:{id:"account",name:"account",label:"請輸入學號",disabled:t.disabled,autofocus:!t.disabled},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),t._v(" "),o("v-text-field",{attrs:{id:"password",type:"password",name:"password",label:"請輸入身份證後四碼",disabled:t.disabled},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),o("v-btn",{attrs:{block:"",primary:"",disabled:t.disabled,loading:t.dialog},on:{click:t.login}},[t._v("登入")]),t._v(" "),o("v-divider",{staticClass:"mt-3"}),t._v(" "),o("a",{attrs:{href:"static/clubs.pdf"}},[t._v(">>課程總覽<<")]),t._v(" "),o("a",{attrs:{href:"static/prove.docx"}},[t._v(">>佐證資料<<")])],1)],1)],1)],1),t._v(" "),o("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[t._v("使用者條款")]),t._v(" "),o("v-card-text",{staticClass:"text-xs-center"},[t._v("我已看完"),o("a",{attrs:{href:"static/help.pdf"}},[t._v("選課須知")]),t._v("與"),o("a",{attrs:{href:"static/clubs.pdf"}},[t._v("課程總覽")])]),t._v(" "),o("v-card-actions",[o("v-spacer"),t._v(" "),o("v-btn",{staticClass:"blue",attrs:{block:"",primary:"",loading:!t.finishNet,disabled:!t.finishNet},nativeOn:{click:function(e){t.closeDig(e)}}},[t._v("完成")]),t._v(" "),o("v-spacer")],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"choose"}},[o("v-card",[o("v-card-title",[o("h2",{staticClass:"mb-0"},[t._v("選擇志願")])]),t._v(" "),o("v-card-text",{staticClass:"pt-0"},[o("v-divider",{staticClass:"mb-4"}),t._v(" "),o("h4",[t._v("1. 選擇課程，加入下列清單！")]),t._v(" "),o("v-layout",{staticClass:"ma-0"},[o("v-select",{attrs:{items:t.noChoose,label:"Select","item-text":"name","item-value":"id","return-object":""},model:{value:t.add,callback:function(e){t.add=e},expression:"add"}}),t._v(" "),o("v-btn",{staticClass:"blue",attrs:{dark:""},on:{click:t.addClass}},[o("v-icon",[t._v("add")])],1)],1),t._v(" "),o("v-divider",{staticClass:"mb-4"}),t._v(" "),o("h4",[t._v("2. 點選課程，使用按鈕移動志願序")]),t._v(" "),o("p",{staticClass:"red--text"},[t._v(t._s(t.choose.length<10?"請填滿 10 個志願":""))]),t._v(" "),o("p",{staticClass:"red--text"},[t._v(t._s(t.limit?"":"必須填寫 跨群科體驗課程"))]),t._v(" "),o("v-layout",{staticClass:"ma-0",attrs:{wrap:"",row:""}},[o("v-flex",{attrs:{xs12:"",sm10:""}},[o("ul",t._l(t.choose,function(e,a){return o("li",{key:e.id,class:{select:e.id===t.selectId},on:{click:function(o){t.select(e.id)}}},[t._v(t._s("第 "+(a+1)+" 志願："+e.name))])}))]),t._v(" "),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-btn",{staticClass:"blue",attrs:{dark:"",block:""},nativeOn:{click:function(e){t.up(e)}}},[o("v-icon",[t._v("arrow_upward")])],1),t._v(" "),o("v-btn",{staticClass:"blue",attrs:{dark:"",block:""},nativeOn:{click:function(e){t.down(e)}}},[o("v-icon",[t._v("arrow_downward")])],1),t._v(" "),o("v-btn",{staticClass:"blue",attrs:{dark:"",block:""},nativeOn:{click:function(e){t.del(e)}}},[o("v-icon",[t._v("delete")])],1)],1)],1),t._v(" "),o("v-divider",{staticClass:"mb-4 mt-4"}),t._v(" "),o("h4",[t._v("3.（選填）選擇想要繳交的佐證資料的課")]),t._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{attrs:{items:t.optitem,label:"Select","item-text":"name","item-value":"id"},model:{value:t.opti1,callback:function(e){t.opti1=e},expression:"opti1"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-layout",[o("v-checkbox",{attrs:{label:"得獎經歷",value:"得獎經歷"},model:{value:t.optiBody1,callback:function(e){t.optiBody1=e},expression:"optiBody1"}}),t._v(" "),o("v-checkbox",{attrs:{label:"校隊經驗",value:"校隊經驗"},model:{value:t.optiBody1,callback:function(e){t.optiBody1=e},expression:"optiBody1"}})],1),t._v(" "),o("v-layout",[o("v-checkbox",{attrs:{label:"學習經驗",value:"學習經驗"},model:{value:t.optiBody1,callback:function(e){t.optiBody1=e},expression:"optiBody1"}}),t._v(" "),o("v-checkbox",{attrs:{label:"其他",value:"其他"},model:{value:t.optiBody1,callback:function(e){t.optiBody1=e},expression:"optiBody1"}})],1)],1)],1),t._v(" "),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{attrs:{items:t.optitem,label:"Select","item-text":"name","item-value":"id"},model:{value:t.opti2,callback:function(e){t.opti2=e},expression:"opti2"}})],1),t._v(" "),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-layout",[o("v-checkbox",{attrs:{label:"得獎經歷",value:"得獎經歷"},model:{value:t.optiBody2,callback:function(e){t.optiBody2=e},expression:"optiBody2"}}),t._v(" "),o("v-checkbox",{attrs:{label:"校隊經驗",value:"校隊經驗"},model:{value:t.optiBody2,callback:function(e){t.optiBody2=e},expression:"optiBody2"}})],1),t._v(" "),o("v-layout",[o("v-checkbox",{attrs:{label:"學習經驗",value:"學習經驗"},model:{value:t.optiBody2,callback:function(e){t.optiBody2=e},expression:"optiBody2"}}),t._v(" "),o("v-checkbox",{attrs:{label:"其他",value:"其他"},model:{value:t.optiBody2,callback:function(e){t.optiBody2=e},expression:"optiBody2"}})],1)],1)],1),t._v(" "),o("v-divider",{staticClass:"mb-4 mt-4"}),t._v(" "),o("h4",[t._v("4.送出志願")]),t._v(" "),o("v-btn",{staticClass:"blue",attrs:{primary:"",block:"",disabled:t.check,loading:t.network},on:{click:t.submit}},[t._v("送出")])],1)],1)],1)},staticRenderFns:[]}}],[31]);
//# sourceMappingURL=app.e842d6a9af3d5884dd98.js.map